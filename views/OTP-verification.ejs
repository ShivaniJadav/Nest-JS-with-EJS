<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>OTP Verification</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="/assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="/assets/vendors/iconfonts/ionicons/dist/css/ionicons.css">
    <link rel="stylesheet" href="/assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.addons.css">
    <link rel="stylesheet" href="/assets/css/style.css" />
	  <link rel="stylesheet" href="/assets/css/responsive.css" />
    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="/assets/css/shared/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" />
  </head>
  <body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth auth-bg-1 theme-one">
          <div class="row w-100">
            <div class="col-lg-4 mx-auto">
              <h2 class="text-center mb-4" style="color: white;">OTP Verification</h2>
              <div class="auto-form-wrapper">
                <form method="post" action="/OTP-verification" id="otp-form">
                  <div class="form-group">
                    <div class="otp-input-wrap" style="margin-bottom: 2rem;">
                      <input type="text" name="otp-input" id="otp-input-1" maxlength="1" class="fp-input" style="border: 1px solid #2196f3;"/>
                      <input type="text" name="otp-input" id="otp-input-2" maxlength="1" class="fp-input" style="border: 1px solid #2196f3;"/>
                      <input type="text" name="otp-input" id="otp-input-3" maxlength="1" class="fp-input" style="border: 1px solid #2196f3;"/>
                      <input type="text" name="otp-input" id="otp-input-4" maxlength="1" class="fp-input" style="border: 1px solid #2196f3;"/>
                      <input type="text" name="otp-input" id="otp-input-5" maxlength="1" class="fp-input" style="border: 1px solid #2196f3;"/>
                      <input type="text" name="otp-input" id="otp-input-6" maxlength="1" class="fp-input" style="border: 1px solid #2196f3;"/>
                    </div>
                    <span id="otpError" style="color: red;margin: 10px 10px;text-align: center;font-size: medium;" class="otp-guideline">
                      <%= typeof error=="undefined" ? '' : error %>
                    </span>
                    <input type="hidden" name="otp" id="otp-hidden-input" />
                    <!-- <input type="hidden" name="email" id="email-hidden-input" <% if (typeof email != "undefined") { %>
                     value="<%= email || '' %>"  <% } %>/> -->
                  </div>
                  <div class="form-group">
                    <button class="btn btn-primary submit-btn btn-block" id="btnSubmit" type="submit">Submit</button>
                  </div>
                  <div class="text-block text-center my-3">
                    <span class="text-small">An OTP will be expired after next 5 minutes.</span> <br>
                    <span class="text-small font-weight-semibold">Didn't receive an OTP? </span>
                    <a href="/resend-OTP" class="text-black text-small" id="resendLink">Resend OTP</a>
                  </div>
                </form>
              </div>
              <ul class="auth-footer">
                <li>
                  <a href="#">Conditions</a>
                </li>
                <li>
                  <a href="#">Help</a>
                </li>
                <li>
                  <a href="#">Terms</a>
                </li>
              </ul>
              <p class="footer-text text-center">copyright Â© 2020 Bootstrapdash. All rights reserved.</p>
              
            </div>                                                                                                                                                                                                                                                                                                                                                                                                                                         
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <script src="/assets/scripts/OTP-verification.js"></script>
    <!-- <script>
      document.getElementById('resendLink').addEventListener('click', function () {
        const btnSubmit = document.getElementById('btnSubmit');
        btnSubmit.setAttribute('disabled', true);
      })

      document.getElementById('btnSubmit').addEventListener('click', function (event) {
        const otpInputs = document.querySelectorAll('input[name="otp-input"]');
        const otpError = document.getElementById('otpError');
        
        let otpValue = '';
        otpInputs.forEach(input => {
          otpValue += input.value;
        });

        document.getElementById('otp-hidden-input').value = otpValue;
        if(otpValue == '') {
          event.preventDefault();
          otpError.textContent = 'OTP is required.';
        } else if(otpValue.length != 6) {
          event.preventDefault();
          otpError.textContent = 'OTP is Invalid.';
        } else {
          otpError.textContent = '';
        }
      });

      document.addEventListener('DOMContentLoaded', function () {
        const inputs = document.querySelectorAll('.fp-input');
        inputs.forEach((input, index) => {
          input.addEventListener('input', () => {
            if (input.value.length === 1 && index < inputs.length - 1) {
              inputs[index + 1].focus();
            }
            updateHiddenInput();
          });

          input.addEventListener('keydown', (e) => {
            if (e.key === 'Backspace' && input.value.length === 0 && index > 0) {
              inputs[index - 1].focus();
            }
          });

          input.addEventListener('paste', (e) => {
            e.preventDefault();
            const pasteData = e.clipboardData.getData('text');
            if (/^\d{6}$/.test(pasteData)) {
              pasteData.split('').forEach((char, i) => {
                if (i < inputs.length) {
                  inputs[i].value = char;
                }
              });
              updateHiddenInput();
              inputs[inputs.length - 1].focus();
            }
          });
        });

        function updateHiddenInput() {
          const otpValue = Array.from(inputs).map(input => input.value).join('');
          document.getElementById('otp-hidden-input').value = otpValue;
        }
      });
    </script> -->
    
    <!-- plugins:js -->
    <script src="/assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="/assets/vendors/js/vendor.bundle.addons.js"></script>
    <!-- endinject -->
    <!-- inject:js -->
    <script src="/assets/js/shared/off-canvas.js"></script>
    <script src="/assets/js/shared/misc.js"></script>
    <!-- endinject -->
    <script src="/assets/js/shared/jquery.cookie.js" type="text/javascript"></script>
  </body>
</html>